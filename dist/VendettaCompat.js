const{native}=window.enmity;function reload(){native.reload()}native.version,native.build,native.device,native.version;function set(e,o,t){window.enmity.settings.set(e,o,t)}function get(e,o,t){return window.enmity.settings.get(e,o,t)}function registerPlugin(e){window.enmity.plugins.registerPlugin(e)}const Constants=window.enmity.modules.common.Constants;window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets,window.enmity.modules.common.Messages,window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native;const React=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher,window.enmity.modules.common.Storage;const Toasts=window.enmity.modules.common.Toasts,Dialog=window.enmity.modules.common.Dialog;window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings,window.enmity.modules.common.Users,window.enmity.modules.common.Navigation,window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking;const StyleSheet=window.enmity.modules.common.StyleSheet;window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components,window.enmity.modules.common.Locale,window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes,window.enmity.modules.common.Moment;var name="VendettaCompat",version="1.0.3",description="VendettaCompat but easy",authors=[{name:"Rosie<3",id:"581573474296791211"},{name:"Unstream",id:"1125315673829154837"}],color="#FFFFFF",Manifest={name,version,description,authors,color};function getIDByName(e){return window.enmity.assets.getIDByName(e)}var locale={errors:{unload:["Error when trying to unload Vendetta"]},settings:{strangeWording:{title:["Strange wording"],description:["Make Vendetta use strange wording for all of its text"]},customVendettaURL:{title:["Custom Vendetta URL"],description:["Loads Vendetta from a custom endpoint"],input:["Vendetta URL"]},clearOptions:{title:["Clear Stores"],description:["Clear enable dialog, strange word options and cached code."]},reload:{title:["Reload"],description:["Reload Discord to apply any changes."]},info:()=>[`Version ${Manifest.version} by ${Manifest.authors.map(e=>e.name).join(", ")}`]},dialogs:{enabled:{title:["Enabled Vendetta"],description:["Successfully enabled Vendetta. To disable it, just disable the plugin."],okayText:["Okay"]},unload:{title:["Must reload"],description:["To fully disable Vendetta, you need to reload your Discord. Please note that Vendetta will not work until you reload Discord."],okayText:["Reload"],cancelText:["Later"]}},toasts:{clear:["Successfully cleared all stored data."],strangeText:e=>[`Successfully ${e} Strange Words.`],icons:{success:getIDByName("ic_check_18px")}}};const{components}=window.enmity;components.Alert,components.Button,components.FlatList,components.Image,components.ImageBackground,components.KeyboardAvoidingView,components.Modal,components.Pressable,components.RefreshControl,components.ScrollView,components.SectionList,components.StatusBar,components.StyleSheet,components.Switch,components.Text,components.TextInput,components.TouchableHighlight,components.TouchableOpacity,components.TouchableWithoutFeedback,components.Touchable,components.View,components.VirtualizedList,components.Form,components.FormArrow,components.FormCTA,components.FormCTAButton,components.FormCardSection,components.FormCheckbox;const FormDivider=components.FormDivider;components.FormHint,components.FormIcon;const FormInput=components.FormInput;components.FormLabel,components.FormRadio;const FormRow=components.FormRow,FormSection=components.FormSection;components.FormSelect,components.FormSubLabel;const FormSwitch=components.FormSwitch;components.FormTernaryCheckBox;const FormText=components.FormText;components.FormTextColors,components.FormTextSizes;var Settings=({Manifest:e})=>{const[o,t]=React.useState(get(e.name,"customVendettaURL",{enabled:!1,url:"http://localhost:4040/vendetta.js"})),a=StyleSheet.createThemedStyleSheet({icon:{color:Constants.ThemeColorMap.INTERACTIVE_NORMAL},info:{color:StyleSheet.ThemeColorMap.HEADER_PRIMARY,fontFamily:Constants.Fonts.DISPLAY_BOLD,textAlign:"center",fontSize:14,marginTop:10}});return React.createElement(React.Fragment,null,React.createElement(FormSection,{title:locale.settings.strangeWording.title[0]},React.createElement(FormRow,{label:locale.settings.customVendettaURL.title[0],subLabel:locale.settings.customVendettaURL.description[0],leading:React.createElement(FormRow.Icon,{style:a.icon,source:getIDByName("ic_locale_24px")}),trailing:React.createElement(FormSwitch,{value:o.enabled,onValueChange:()=>t(n=>(set(e.name,"customVendettaURL",{enabled:!0,url:n.url}),{enabled:!0,url:n.url}))})}),o.enabled&&React.createElement(FormInput,{value:o.url,onChangeText:n=>t(s=>(set(e.name,"customVendettaURL",{enabled:s.enabled,url:n}),{enabled:s.enabled,url:n})),placeholder:"http://localhost:4040/vendetta.js",title:locale.settings.customVendettaURL.input[0]})),React.createElement(FormDivider,null),React.createElement(FormSection,{title:locale.settings.clearOptions.title[0]},React.createElement(FormRow,{label:locale.settings.clearOptions.title[0],subLabel:locale.settings.clearOptions.description[0],leading:React.createElement(FormRow.Icon,{style:a.icon,source:getIDByName("ic_message_delete")}),trailing:()=>React.createElement(FormRow.Arrow,null),onPress:()=>{set(e.name,"shownEnabledDialog",!1),set(e.name,"strangeCode",0),Toasts.open({content:locale.toasts.clear[0],source:locale.toasts.icons.success})}})),React.createElement(FormDivider,null),React.createElement(FormSection,{title:locale.settings.reload.title[0]},React.createElement(FormRow,{label:locale.settings.reload.title[0],subLabel:locale.settings.reload.description[0],leading:React.createElement(FormRow.Icon,{style:a.icon,source:getIDByName("ic_message_retry")}),trailing:()=>React.createElement(FormRow.Arrow,null),onPress:()=>reload()})),React.createElement(FormDivider,null),React.createElement(FormText,{style:a.info},locale.settings.info()[0]))};const VendettaCompat={...Manifest,async onStart(){const showSuccessDialog=()=>{get(Manifest.name,"shownEnabledDialog",!1)||Dialog.show({title:locale.dialogs.enabled.title[0],body:locale.dialogs.enabled.description[0],confirmText:locale.dialogs.enabled.okayText[0],onConfirm:()=>set(Manifest.name,"shownEnabledDialog",!0)})},customVendettaURL=get(Manifest.name,"customVendettaURL"),url=customVendettaURL!=null&&customVendettaURL.enabled?customVendettaURL.url:"https://raw.githubusercontent.com/pyoncord/detta-builds/main/bunny.js",res=await fetch(url),vendettaCode=res.ok?await res.text():get(Manifest.name,"vendettaCode",null);set(Manifest.name,"vendettaCode",vendettaCode),eval(vendettaCode),showSuccessDialog()},onStop(){get(Manifest.name,"strangeCode",0);const e=window.vendetta;if(e)try{e==null||e.unload(),Dialog.show({title:locale.dialogs.unload.title[0],body:locale.dialogs.unload.description[0],confirmText:locale.dialogs.unload.okayText[0],cancelText:locale.dialogs.unload.cancelText[0],onConfirm:()=>reload()})}catch(o){console.error(`[${Manifest.name}] ${locale.errors.unload[0]}: ${o}`)}},getSettingsPanel(){return React.createElement(Settings,{Manifest})}};registerPlugin(VendettaCompat);
